"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8572],{37024:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var r=t(85893),a=t(11151),s=t(74866),c=t(85162);const i={id:"balance-changes",title:"Balance changes",sidebar_label:"Balance Changes"},o=void 0,l={id:"integrations/balance-changes",title:"Balance changes",description:"Prerequisites",source:"@site/../_docs/6.integrations/balance.md",sourceDirName:"6.integrations",slug:"/integrations/balance-changes",permalink:"/docs/integrations/balance-changes",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../_docs/6.integrations/balance.md",tags:[],version:"current",frontMatter:{id:"balance-changes",title:"Balance changes",sidebar_label:"Balance Changes"},sidebar:"exchanges",previous:{title:"Exchange Integration",permalink:"/docs/integrations/exchange-integration"},next:{title:"Accounts",permalink:"/docs/integrations/accounts"}},u={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Native NEAR (\u24c3)",id:"native-near",level:3},{value:"Send Tokens",id:"send-tokens",level:2},{value:"View Balance Changes",id:"view-balance-changes",level:2}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://testnet.mynearwallet.com/create",children:"NEAR Account"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/tools/near-cli",children:"NEAR-CLI"})}),"\n",(0,r.jsxs)(n.li,{children:["Credentials for sender account stored locally by running ",(0,r.jsx)(n.a,{href:"/tools/near-cli#import",children:(0,r.jsx)(n.code,{children:"near login"})})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"native-near",children:"Native NEAR (\u24c3)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Balance changes on accounts can be tracked by using our ",(0,r.jsx)(n.a,{href:"/api/rpc/contracts#view-account-changes",children:"changes RPC endpoint"}),". You can test this out by sending tokens to an account using ",(0,r.jsx)(n.a,{href:"/tools/near-cli#send-near",children:"NEAR-CLI"})," and then viewing the changes made."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"send-tokens",children:"Send Tokens"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Send tokens using ",(0,r.jsx)(n.a,{href:"/docs/tools/near-cli#send-near",children:(0,r.jsx)(n.code,{children:"near send"})})]}),"\n"]}),"\n",(0,r.jsxs)(s.Z,{groupId:"cli-tabs",children:[(0,r.jsx)(c.Z,{value:"short",label:"Short",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"near send sender.testnet receiver.testnet 1\n"})})}),(0,r.jsx)(c.Z,{value:"full",label:"Full",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"near tokens sender.testnet send-near receiver.testnet '1 NEAR' network-config testnet sign-with-keychain send\n"})})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You should see a result in your terminal that looks something like this:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"Sending 1 NEAR to receiver.testnet from sender.testnet\nTransaction Id 4To336bYcoGc3LMucJPMk6fMk5suKfCrdNotrRtTxqDy\nTo see the transaction in the transaction explorer, please open this url in your browser\nhttps://testnet.nearblocks.io/txns/4To336bYcoGc3LMucJPMk6fMk5suKfCrdNotrRtTxqDy\n"})}),"\n",(0,r.jsx)(n.h2,{id:"view-balance-changes",children:"View Balance Changes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Open the transaction URL in ",(0,r.jsx)(n.a,{href:"https://testnet.nearblocks.io/",children:"NearBlocks Explorer"})," and copy the ",(0,r.jsx)(n.code,{children:"BLOCK HASH"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Using the ",(0,r.jsx)(n.code,{children:"BLOCK HASH"})," and the accountId, query the ",(0,r.jsx)(n.a,{href:"/api/rpc/contracts#view-account-changes",children:"changes RPC endpoint"})," to view changes."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Query using HTTPie:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare \\\n    method=EXPERIMENTAL_changes \\\n    \'params:={\n        "block_id": "CJ24svU3C9FaULVjcNVnWuVZjK6mNaQ8p6AMyUDMqB37",\n        "changes_type": "account_changes",\n        "account_ids": ["sender.testnet"]\n    }\'\n'})}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.strong,{children:"Example Response:"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "dontcare",\n  "jsonrpc": "2.0",\n  "result": {\n    "block_hash": "BRgE4bjmUo33jmiVBcZaWGkSLVeL7TTi4ZxYTvJdPbB9",\n    "changes": [\n      {\n        "cause": {\n          "tx_hash": "4To336bYcoGc3LMucJPMk6fMk5suKfCrdNotrRtTxqDy",\n          "type": "transaction_processing"\n        },\n        "change": {\n          "account_id": "sender.testnet",\n          "amount": "11767430014412510000000000",\n          "code_hash": "11111111111111111111111111111111",\n          "locked": "0",\n          "storage_paid_at": 0,\n          "storage_usage": 806\n        },\n        "type": "account_update"\n      }\n    ]\n  }\n}\n'})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["Alternatively, you can view account balances by ",(0,r.jsxs)(n.a,{href:"/api/rpc/contracts#view-account",children:["querying ",(0,r.jsx)(n.code,{children:"view_account"})]})," which only requires an accountId."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example HTTPie Request:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=query \\\nparams:=\'{\n  "request_type": "view_account",\n  "finality": "final",\n  "account_id": "sender.testnet"\n}\'\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "dontcare",\n  "jsonrpc": "2.0",\n  "result": {\n    "amount": "11767430683960197500000000",\n    "block_hash": "HUiscpNyoyR5z1UdnZhAJLNz1G8UjBrFTecSYqCrvdfW",\n    "block_height": 50754977,\n    "code_hash": "11111111111111111111111111111111",\n    "locked": "0",\n    "storage_paid_at": 0,\n    "storage_usage": 806\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," Gas prices can change between blocks. Even for transactions with deterministic gas cost the cost in NEAR could also be different. You can query the gas price for recent blocks using the ",(0,r.jsxs)(n.a,{href:"https://docs.near.org/api/rpc/setup#gas-price",children:[(0,r.jsx)(n.code,{children:"gas_price"})," RPC endpoint"]}),"."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.admonition,{title:"Got a question?",type:"tip",children:(0,r.jsx)("a",{href:"https://stackoverflow.com/questions/tagged/nearprotocol",target:"_blank",rel:"noopener noreferrer",children:" Ask it on StackOverflow! "})})]})}function p(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},85162:(e,n,t)=>{t.d(n,{Z:()=>c});t(67294);var r=t(36905);const a={tabItem:"tabItem_Ymn6"};var s=t(85893);function c(e){var n=e.children,t=e.hidden,c=e.className;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.Z)(a.tabItem,c),hidden:t,children:n})}},74866:(e,n,t)=>{t.d(n,{Z:()=>k});var r=t(67294),a=t(36905),s=t(12466),c=t(16550),i=t(20469),o=t(91980),l=t(67392),u=t(20812);function d(e){var n,t;return null!=(n=null==(t=r.Children.toArray(e).filter((function(e){return"\n"!==e})).map((function(e){if(!e||(0,r.isValidElement)(e)&&((n=e.props)&&"object"==typeof n&&"value"in n))return e;var n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?n:[]}function h(e){var n=e.values,t=e.children;return(0,r.useMemo)((function(){var e=null!=n?n:function(e){return d(e).map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes,default:n.default}}))}(t);return function(e){var n=(0,l.lx)(e,(function(e,n){return e.value===n.value}));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,t])}function p(e){var n=e.value;return e.tabValues.some((function(e){return e.value===n}))}function g(e){var n=e.queryString,t=void 0!==n&&n,a=e.groupId,s=(0,c.k6)(),i=function(e){var n=e.queryString,t=void 0!==n&&n,r=e.groupId;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=r?r:null}({queryString:t,groupId:a});return[(0,o._X)(i),(0,r.useCallback)((function(e){if(i){var n=new URLSearchParams(s.location.search);n.set(i,e),s.replace(Object.assign({},s.location,{search:n.toString()}))}}),[i,s])]}function f(e){var n,t,a,s,c=e.defaultValue,o=e.queryString,l=void 0!==o&&o,d=e.groupId,f=h(e),b=(0,r.useState)((function(){return function(e){var n,t=e.defaultValue,r=e.tabValues;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:r}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+r.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}var a=null!=(n=r.find((function(e){return e.default})))?n:r[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:c,tabValues:f})})),v=b[0],x=b[1],m=g({queryString:l,groupId:d}),j=m[0],y=m[1],k=(n=function(e){return e?"docusaurus.tab."+e:null}({groupId:d}.groupId),t=(0,u.Nk)(n),a=t[0],s=t[1],[a,(0,r.useCallback)((function(e){n&&s.set(e)}),[n,s])]),w=k[0],N=k[1],_=function(){var e=null!=j?j:w;return p({value:e,tabValues:f})?e:null}();return(0,i.Z)((function(){_&&x(_)}),[_]),{selectedValue:v,selectValue:(0,r.useCallback)((function(e){if(!p({value:e,tabValues:f}))throw new Error("Can't select invalid tab value="+e);x(e),y(e),N(e)}),[y,N,f]),tabValues:f}}var b=t(72389);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=t(85893);function m(e){var n=e.className,t=e.block,r=e.selectedValue,c=e.selectValue,i=e.tabValues,o=[],l=(0,s.o5)().blockElementScrollPositionUntilNextRender,u=function(e){var n=e.currentTarget,t=o.indexOf(n),a=i[t].value;a!==r&&(l(n),c(a))},d=function(e){var n,t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":var r,a=o.indexOf(e.currentTarget)+1;t=null!=(r=o[a])?r:o[0];break;case"ArrowLeft":var s,c=o.indexOf(e.currentTarget)-1;t=null!=(s=o[c])?s:o[o.length-1]}null==(n=t)||n.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":t},n),children:i.map((function(e){var n=e.value,t=e.label,s=e.attributes;return(0,x.jsx)("li",Object.assign({role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:function(e){return o.push(e)},onKeyDown:d,onClick:u},s,{className:(0,a.Z)("tabs__item",v.tabItem,null==s?void 0:s.className,{"tabs__item--active":r===n}),children:null!=t?t:n}),n)}))})}function j(e){var n=e.lazy,t=e.children,s=e.selectedValue,c=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){var i=c.find((function(e){return e.props.value===s}));return i?(0,r.cloneElement)(i,{className:(0,a.Z)("margin-top--md",i.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:c.map((function(e,n){return(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})}))})}function y(e){var n=f(e);return(0,x.jsxs)("div",{className:(0,a.Z)("tabs-container",v.tabList),children:[(0,x.jsx)(m,Object.assign({},n,e)),(0,x.jsx)(j,Object.assign({},n,e))]})}function k(e){var n=(0,b.Z)();return(0,x.jsx)(y,Object.assign({},e,{children:d(e.children)}),String(n))}},11151:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>c});var r=t(67294);const a={},s=r.createContext(a);function c(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);